<!-- Only add variable parts -->

<link rel="stylesheet" href="/css/home.css">
<link rel="stylesheet" href="/css/_friend.css">

<h1>Codeial / <%= title %></h1>

<div class="home-container">
    <section id="feed-posts">
        <h3>Posts</h3>
       <% if(locals.user){ %>
            <form action="/posts/create" id="new-post-form" method="POST" class="form post-form">
                <textarea name="content" cols="30" rows="3" placeholder="Type Here... "></textarea>
                <input type="submit" value="post">
            </form>
       <% } %> 
    
        <div id="posts-list-container">
            <ul class="flex">
                <%  for(post of posts){ %>
                    <%- include('_post') -%>
                <% } %>
            </ul>
        </div>
    </section>
    
    <section id="user-friends">
        <h3>Friends</h3>
    </section>

    <section id="user-list">
        <h3>Users</h3>
        <ul>
            <% for(u of all_users){ %>
                <li>
                    <img src="<%= u.avatar %>" alt="<%= u.name %>" width="100"></img>
    
                    <a class="user-list-name" href="/users/profile/<%= u.id %>"><%= u.name %></a>
    
                    <button type="submit">Add Friend</button>
                </p>
            <% } %>
            </ul>
    </section>
</div>


<script src="/js/home_post_comment.js"></script>
<script src="/js/home_post.js"></script>

<script src="js/toggle_likes.js"></script>
<script>
    $('.toggle-like-button').each(function(){
        let self = this;
        let toggleLike = new ToggleLike(self);
    });
</script>